
**Status:** APPROVED.

**Decision:**
Yes, proceed with `DOMParser` and `XMLSerializer`. This is the preferred approach for this architecture.

**Technical Guardrails for Phase 3 (`ScoreManager.ts`):**

1. **Namespace Handling:** Since we are supporting **MEI**, your selectors must be robust. When using `querySelector` or `getElementsByTagName`, ensure you handle the default namespace correctly, or strip the namespace logic if strictly necessary for this prototype.
* *Tip:* For MusicXML, `<note>` elements are standard. For MEI, they are often `<note>` inside a specific namespace.


2. **The Pitch Shift Logic (Music Theory Math):**
To ensure `mutatePitch` passes the Unit Tests, implement the logic using a "Step Index" rather than naive character manipulation.
* Define the scale: `const STEPS = ["c", "d", "e", "f", "g", "a", "b"];`
* When shifting UP: Find index of `pname`. If index is 6 ('b'), wrap to 0 ('c') and increment `oct`.
* When shifting DOWN: If index is 0 ('c'), wrap to 6 ('b') and decrement `oct`.


3. **The Deletion Logic:**
* Remember that in MusicXML, a `<note>` might be part of a `<chord>`. For this MVP, if the note is a chord member, just removing it is fine.
* If it is a single note, you **must** replace it with a `<rest>` of the same `duration` to preserve the measure's timing. Do not just remove the node, or the measure will be "short" and Verovio might render it strangely.



**Next Action:**
Please proceed to **Step 4 (The DevLoop)**.

1. Write the **Vitest Unit Tests** first (Test A and Test B from the PRP).
2. Implement `ScoreManager.ts` using `DOMParser` to pass those tests.
3. Once tests pass, wire up the UI event listeners.

Report back when **Unit Tests are passing**.