

# Prompt 

**Role:** Senior Frontend Architect
**Context:** We have successfully implemented the core viewing and deletion logic in the `NotationLite` application. However, visual inspection reveals that Verovio is rendering using its default fallback font (Leipzig), not the requested **Bravura** font.
**Objective:** Configure the application to correctly serve and utilize the Bravura font data included in the Verovio package.

## Technical Background

Verovio requires external metadata files to render SMuFL fonts like Bravura. These files exist in `node_modules` but are not currently accessible to the browser. Verovio is therefore falling back to its internal Leipzig font.

We must:

1. Expose the font data as static assets.
2. Instruct Verovio where to find these assets.

## Action Plan

### Task 1: Expose Font Assets

You must move the font data from the dependency folder into the project's public static assets folder.

1. Create a new directory structure: `public/fonts/`.
2. Locate the Verovio font data in your project structure: `node_modules/verovio/data/fonts/`.
3. Copy the **entire** `bravura` folder from the source location into your new public location.
* *Source:* `node_modules/verovio/data/fonts/bravura/`
* *Destination:* `public/fonts/bravura/`
* *Validation:* Ensure `public/fonts/bravura/metadata.json` exists.



### Task 2: Update Verovio Configuration

Modify the `ScoreManager.ts` class to point Verovio to this new location.

1. Open `src/ScoreManager.ts`.
2. Locate the `verovioToolkit.setOptions({})` call (likely in the constructor or the `load` method).
3. Update the options object to explicitly request Bravura and define the `fontPath`.

**Required Code Change in `ScoreManager.ts`:**

```typescript
// Existing code...
verovioToolkit.setOptions({
    // Ensure other options like scale remain...
    scale: 40,
    adjustPageHeight: true,

    // >>> ADD THESE TWO LINES <<<
    font: 'Bravura',
    // Crucial: This points to the folder containing the 'bravura' directory.
    // Since 'public' is the root of the dev server, the path is simply '/fonts/'.
    fontPath: '/fonts/', 
});
// Existing code...

```

## Verification Steps

After completing these tasks, refresh the browser.

**Visual Check:**
Compare the G-clef (treble clef) and the noteheads.

* **Leipzig (Current Default):** The G-clef is sleeker, thinner, and has a smaller loop at the bottom.
* **Bravura (Goal):** The G-clef is noticeably heavier, bolder, and "rounder" (the standard Dorico look).

If the font still looks like Leipzig, check the browser console network tab to ensure the request for `/fonts/bravura/metadata.json` is returning a 200 OK status, not a 404.